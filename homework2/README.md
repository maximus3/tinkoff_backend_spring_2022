# Weather app

## Description

Small CLI weather app.

## Commands

### Run app:
    python -m weather {city}

### Run tests:
    make test

### Run linters:
    make lint

### Run formatters:
    make format

### Run format and lint code then run tests:
    make check

## Task Description:

Нужно написать консольное приложение, которое по входному параметру с названием города будет показывать в простом текстовом виде текущую погоду в градусах цельсия.

Пример (формат можно изменить на свое усмотрение):

```
$ python -m weather moscow 
Current weather in moscow: +5 
```

Достаточно показывать погоду только для городов России. Считаем, что пользователь знает, как называется город на сервисе, который мы используем для получения данных.

* Для получения информации НУЖНО загрузить html страницу с https://world-weather.ru (или аналога), распарсить html разметку и получить нужные данные. Например погоду в москве можно получить по адресу https://world-weather.ru/pogoda/russia/moscow. Использовать API сервисов НЕЛЬЗЯ. 
* Параметры приложения должны приниматься с помощью аргументов командной строки. Для этого НУЖНО воспользоваться библиотекой https://github.com/tiangolo/typer
* Для получения html страниц НУЖНО использовать https://docs.python-requests.org/en/latest
* Для парсинга html рекомендуем использовать https://www.crummy.com/software/BeautifulSoup/bs4/doc или аналоги
* Обязательные требованияНужно понятное описание проекта (README.md) 
* Покрыть код тестами не менее чем на 90% (make test) 
* Код должен проходить проверки линтеров и быть автоматически отформатирован (make format lint) 
* Все зависимости фиксируются через poetry

За обычный вариант задачи можно получить не более 8 баллов. За усложненный до 10.Усложненный вариант 

Нужно реализовать кэширование данных, чтобы полученная информация не перезапрашивалась, если мы ее уже запрашивали за последние 5 минут. Например, если мы запросили данные по Москве, то при повторном запуске через 30 секунд данные возьмутся из кэша без запроса с сервису, а при запросе через 10 минут, будут запрошены свежие данные. 

Пример запросов к приложению, каждый запрос через секунду после предыдущего 

```python
python -m weather moscow  # получаем данные из сервиса 
python -m weather moscow  # получаем данные из кэша 
python -m weather perm  # получаем данные из сервиса
```
Кэширование в коде НУЖНО реализовать через написание декоратора, который кэширует результат функции. 

Пример (формат можно изменить на свое усмотрение) 

```python
@cache(ttl=5 * 60) 
def get_weather_for_city(city: str) -> int:
        ... 
```

Данные сохраняем в виде файлов. Формат файлов и названия определяем сами. Использовать файловые базы данных (sqlite, etc.) НЕЛЬЗЯ.
